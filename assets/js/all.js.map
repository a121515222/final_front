{"version":3,"sources":["all.js"],"names":["showProductlist","document","querySelector","productlistCategory","cartTable","showCartEmpty","totalPrice","showPrice","delAllCarts","errormessage","userinfo","querySelectorAll","sendform","errorSapn","userform","apiPath","init","getPorductList","getCartsList","axios","get","then","response","renderProductList","data","products","renderPrductCategory","error","console","log","content","forEach","item","images","id","title","origin_price","price","innerHTML","category","indexOf","push","selPorduct","filter","value","showCartCompone","length","classList","remove","add","renderCart","carts","contentTail","product","quantity","textContent","finalTotal","addCart","e","preventDefault","cartdata","sentdata","target","dataset","productId","post","delCart","del","cartid","delAllCart","adjustCartNumber","parseInt","patch","getUserInfo","sentUserData","user","name","tel","email","address","payment","objkey","Object","keys","i","getAttribute","displayError","status","reset","alert","constraints","presence","message","format","pattern","errorMessage","validate","index","errorObjkey","addEventListener"],"mappings":"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","file":"all.js","sourcesContent":["\n//DOM\nconst showProductlist = document.querySelector('.js-showProwlist');\nconst productlistCategory = document.querySelector('.js-productCategory');\nconst cartTable = document.querySelector('.js-carts');\nconst showCartEmpty = document.querySelector('.js-cartEmpty');\nconst totalPrice = document.querySelector('.js-price');\nconst showPrice = document.querySelector('.js-shoePrice');\nconst delAllCarts = document.querySelector('.js-delAll');\nconst errormessage = document.querySelector('.js-userinfo');\nconst userinfo = document.querySelectorAll('.js-userinfo .userdata');\nconst sendform = document.querySelector('.js-sendform');\nconst errorSapn = document.querySelectorAll('.js-userinfo span');\nconst userform = document.querySelector('.js-userform');\n//全域變數\n\nconst apiPath = 'chun-chia'\n\n//功能\nfunction init() {\n  getPorductList();\n  getCartsList();\n}\n\n//取得產品列表\n\nfunction getPorductList() {\n  axios.get(`https://livejs-api.hexschool.io/api/livejs/v1/customer/${apiPath}/products`).then((response) => {\n    //console.log(response.data.products)\n    renderProductList(response.data.products)\n    renderPrductCategory(response.data.products)\n  }).catch((error) => { console.log(error) });\n}\n\nfunction renderProductList(data) {\n  let content = '';\n  data.forEach((item) => {\n    content += `<li class=\"card rounded-0 border-white flex-columl position-relative w-22 \">\n  <div><img src=${item.images} alt=\"product\"></div>\n  <a href=\"#\" data-id=\"${item.id}\"  class=\"btn rounded-0 bg-dark text-white text-center py-3 hoverwhite border-dark\">加入購物車</a>\n  <span class=\"d-block fs-3\">${item.title}</span>\n  <span class=\"d-block fs-5\"><s>NT${item.origin_price}</s></span>\n  <span class=\"d-block fs-3\">NT${item.price}</span>\n  <div class=\"position-absolute top-0 end-0\"><span class=\"d-block bg-dark text-white px-3 py2\">新品</span></div>\n</li>`\n  });\n  showProductlist.innerHTML = content;\n}\n\nfunction renderPrductCategory(data) {\n  let category = [];\n  let content = '<option value=\"all\">所有分類</option>';\n  data.forEach((item) => {\n    if (category.indexOf(item.category) === -1) {\n      category.push(item.category)\n    }\n  });\n  category.forEach((item) => {\n    content += `<option value=\"${item}\">${item}</option>`\n  });\n  productlistCategory.innerHTML = content;\n}\n//選擇產品\nfunction selPorduct() {\n  axios.get(`https://livejs-api.hexschool.io/api/livejs/v1/customer/${apiPath}/products`).then((response) => {\n\n    let data = null;\n    data = response.data.products.filter((item) => {\n      if (productlistCategory.value === \"all\") {\n        return item\n      }\n      else if (item.category === productlistCategory.value) {\n        return item\n      }\n\n    })\n    renderProductList(data)\n\n  }).catch((error) => { console.log(error) });\n\n}\n//顯示購物車是否為空，如果購物車有東西開啟table與刪除所有按鈕\nfunction showCartCompone(data) {\n  if (data.length !== 0) {\n    cartTable.classList.remove('d-none');\n    showPrice.classList.remove('d-none');\n    delAllCarts.classList.remove('d-none');\n    showCartEmpty.classList.add('d-none');\n  }\n  else {\n    cartTable.classList.add('d-none');\n    showPrice.classList.add('d-none');\n    delAllCarts.classList.add('d-none');\n    showCartEmpty.classList.remove('d-none');\n  }\n}\n//取得購物車\nfunction getCartsList() {\n  axios.get(`https://livejs-api.hexschool.io/api/livejs/v1/customer/${apiPath}/carts`).then((response) => {\n\n    //console.log(response.data.carts)\n    renderCart(response.data)\n  }).catch((error) => { console.log(error) });\n}\n//渲染購物車\nfunction renderCart(data) {\n  showCartCompone(data.carts)\n  let content = `<thead><tr><th scope=\"col\">品項</th><th scope=\"col\">單價</th><th scope=\"col\">數量</th><th scope=\"col\">金額</th><th scope=\"col\"></th></tr></thead><tbody>`;\n  let contentTail = `</tbody>`;\n\n  data.carts.forEach((item) => {\n    content += `<tr class =\"align-middle\">\n  <th scope=\"row\" class=\"d-flex align-items-center gap-2\"><div class=\"w-80px h-80px \"><img src=\"${item.product.images}\" alt=\"\"></div><span\n      class=\"fs- w-160px text-start\">${item.product.title}</span></th>\n  <td class=\"text-start\"><span class=\"fs-6 \">${item.product.price}</span></td>\n  <td class=\"text-start\"><div class=\"d-flex gap-3\"><a href=\"#\"  ><i class=\"fas fa-minus fa-sm\"data-cartid=\"${item.id}\" data-quantity=${item.quantity - 1}></i></a><span class=\"fs-6\" data-productid=\"${item.product.id}\" data-cartID=\"${item.id}\">${item.quantity}</span><a href=\"#\"   ><i class=\"fas fa-plus fa-sm\" data-cartid=\"${item.id}\" data-quantity=${item.quantity + 1}></i></a></div></td>\n  <td class=\"text-start\"><span class=\"fs-6\">${item.product.price * item.quantity}</span></td>\n  <td class=\"text-start\"><a href=\"#\" data-productID=\"${item.product.id}\" ><i class=\"fas fa-times\" data-del=true data-cartid=\"${item.id}\"></i></a></td>\n</tr>`\n\n  });\n  cartTable.innerHTML = content + contentTail;\n\n  totalPrice.textContent = data.finalTotal;\n  //console.log(content + contentTail)\n\n}\n\n//加入購物車\n\nfunction addCart(e) {\n  e.preventDefault();\n\n  let cartdata = null;\n  let sentdata = {\n    \"data\": {\n      \"productId\": \"\",\n      \"quantity\": 1\n    }\n  };\n  axios.get(`https://livejs-api.hexschool.io/api/livejs/v1/customer/${apiPath}/carts`).then((response) => {\n    \n\n    cartdata = response.data.carts;\n    //console.log(cartdata)\n    //比較購物車數量如果已在購物車就加數量，如果不在購物車則加入\n    cartdata.forEach((item) => {\n      if (item.product.id.indexOf(e.target.dataset.id) !== -1) {\n        sentdata.data.productId = e.target.dataset.id;\n        sentdata.data.quantity = item.quantity + 1;\n        console.log(sentdata.data.quantity)\n      }\n      else if(item.product.id.indexOf(e.target.dataset.id) === -1){\n        sentdata.data.productId = e.target.dataset.id;\n      };\n    })\n  \n    console.log(sentdata.data.quantity);\n    axios.post(`https://livejs-api.hexschool.io/api/livejs/v1/customer/${apiPath}/carts`, sentdata).then((response) => {\n      renderCart(response.data)\n    }).catch((error) => { console.log(error) })\n  })\n\n\n\n\n}\n//刪除購物車\nfunction delCart(e) {\n  e.preventDefault()\n  if (e.target.dataset.del === 'true') {\n    axios.delete(`https://livejs-api.hexschool.io/api/livejs/v1/customer/${apiPath}/carts/${e.target.dataset.cartid}`).then((response) => {\n      renderCart(response.data)\n    }).catch((error) => { console.log(error) })\n  }\n}\n//刪除所有購物車\nfunction delAllCart(e) {\n  e.preventDefault()\n  axios.delete(`https://livejs-api.hexschool.io/api/livejs/v1/customer/${apiPath}/carts`).then((response) => {\n    renderCart(response.data)\n  }).catch((error) => { console.log(error) })\n}\n//購物車數量增減\nfunction adjustCartNumber(e) {\n  e.preventDefault();\n  let sentdata = {\n    \"data\": {\n      \"id\": \"\",\n      \"quantity\": 0\n    }\n  }\n\n  sentdata.data.id = e.target.dataset.cartid\n  sentdata.data.quantity = parseInt(e.target.dataset.quantity)\n  if (e.target.dataset.del === 'true') {\n    return\n  }\n  else {\n    if (sentdata.data.quantity === 0) {\n      axios.delete(`https://livejs-api.hexschool.io/api/livejs/v1/customer/${apiPath}/carts/${e.target.dataset.cartid}`).then((response) => {\n        renderCart(response.data)\n      }).catch((error) => { console.log(error) })\n    }\n    else {\n      axios.patch(`https://livejs-api.hexschool.io/api/livejs/v1/customer/${apiPath}/carts`, sentdata).then((response) => {\n        renderCart(response.data)\n      }).catch((error) => { console.log(error) })\n    }\n  }\n}\n\n//取得使用者資訊並送出\n\nfunction getUserInfo(e) {\n  e.preventDefault();\n  const sentUserData = {\n    data: {\n      user: {\n        name: \"\",\n        tel: \"\",\n        email: \"\",\n        address: \"\",\n        payment: \"\"\n      }\n    }\n  };\n  userinfo.forEach((item) => {\n    let objkey = Object.keys(sentUserData.data.user);\n    objkey.forEach((i) => {\n      if (item.getAttribute('id') === i) {\n        sentUserData.data.user[i] = item.value;\n      }\n    })\n  })\n  //console.log(sentUserData)\n  //console.log(sentUserData)\n  displayError()\n  if (!displayError()) {\n    axios.post(`https://livejs-api.hexschool.io/api/livejs/v1/customer/${apiPath}/orders\n    `, sentUserData).then((response) => {\n      if (response.data.status === true) {\n        //alert('訂單已成功送出，感謝您的訂購')\n        //console.log(response.data)\n        userform.reset()\n        getCartsList()\n      }\n    }).catch((error) => {\n      console.log(error)\n      if (error) {\n        alert('購物車沒有東西或系統出錯，請稍後在試。')\n      }\n    })\n  }\n}\n\n//validate.js套件\nfunction displayError() {\n  const constraints = {\n    name: {\n      presence: {\n        message: \"必填欄位\"\n      },\n    },\n    tel: {\n      presence: {\n        message: \"必填欄位\"\n      }, format: {\n        pattern: /\\d{9,10}/,\n        message: \"請輸入純數字與完整的電話號碼\"\n      }\n    },\n    email: {\n      presence: {\n        message: \"必填欄位\"\n      }, format: {\n        pattern: /^([a-zA-Z0-9_\\.\\-\\+])+\\@(([a-zA-Z0-9\\-])+\\.)+([a-zA-Z0-9]{2,4})+$/,\n        message: \"請輸入正確的email格式\"\n      }\n    },\n    address: {\n      presence: {\n        message: \"必填欄位\"\n      },\n    },\n    payment: {\n      presence: {\n        message: \"必選擇一種付款方式\"\n      },\n    },\n  }\n\n  let errorMessage = validate(errormessage, constraints);\n  //console.log(errorMessage)\n  //顯示錯誤訊息\n\n  errorSapn.forEach((item, index) => {\n\n    if (errorMessage) {\n      const errorObjkey = Object.keys(errorMessage);\n      if (errorObjkey.indexOf(item.getAttribute('error')) !== -1) {\n        errorSapn[index].textContent = errorMessage[item.getAttribute('error')][0]\n      }\n      else {\n        errorSapn[index].textContent = \"\";\n      }\n    }\n    else {\n      errorSapn[index].textContent = \"\";\n    }\n  })\n  return errorMessage\n}\n\ninit()\n\n//監聽\nproductlistCategory.addEventListener('change', selPorduct, false);\nshowProductlist.addEventListener('click', addCart, false);\ncartTable.addEventListener('click', adjustCartNumber, false);\ncartTable.addEventListener('click', delCart, false);\nsendform.addEventListener('click', getUserInfo, false);\ndelAllCarts.addEventListener('click', delAllCart, false);"]}